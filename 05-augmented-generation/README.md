# 05-augmented-generation

Contains a simple example of using a language model to generate text in streaming mode.

## Libraries Involved

- `github.com/testcontainers/testcontainers-go`: [Testcontainers for Golang](https://github.com/testcontainers/testcontainers-go) is library for running Docker containers for integration tests.
- `github.com/testcontainers/testcontainers-go/modules/dockermodelrunner`: A module for running local language models using Testcontainers and the Docker Model Runner component of Docker Desktop.
- `github.com/tmc/langchaingo`: A library for interacting with language models.
- `github.com/tmc/langchaingo/llms/openai`: A specific implementation of the language model interface for OpenAI.

## Code Explanation

The code in `main.go` sets up and runs a local language model using Docker Model Runner through Testcontainers, then uses the model to generate text in two different approaches:

1. Simple generation: The model generates text based on a given prompt.
2. Augmented generation: The model generates text based on a given prompt with additional context.

### Main Functions

- `main()`: The entry point of the application. It calls the `run()` function and logs any errors.
- `run()`: The main logic of the application. It performs the following steps:
  1. Runs a local model using the [Docker Model Runner container](https://golang.testcontainers.org/modules/dockermodelrunner/). The model used is `ai/llama3.2:1B-Q4_0`, which is available in [Docker's GenAI catalog](https://hub.docker.com/catalogs/gen-ai).
  2. Creates a new OpenAI language model instance, using the container's OpenAI-compatible endpoint.
  3. Defines the original content, without augmentation, to be generated by the language model.
  4. Generates the content and prints it to the console.
  5. Defines the augmented content to be generated by the language model, which basically extends the original content with additional context.
  6. Generates the augmented content and prints it to the console.

## Running the Example

To run the example, navigate to the `05-augmented-generation` directory and run the following command:

```sh
go run -v .
```

The application will start a local language model and generate text based on the provided prompt. The generated text will be displayed in the console.

```shell
Original completion:
I don't have any information about a current topic of a conference. Our conversation just started, and I don't have any context about a specific conference. If you can provide more information or details about the conference you're referring to, I'd be happy to try and help you understand the current topic.

Augmented completion:
I can answer the question based on the information available to me.

The current topic of the conference is about leveraging Testcontainers for building Generative AI applications.
```
